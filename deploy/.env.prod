# =============================================================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# =============================================================================
# This file contains all environment variables for production deployment
# Copy this file to .env.production and update values for your environment
# =============================================================================

# =============================================================================
# DJANGO CORE SETTINGS
# =============================================================================
SECRET_KEY=your-super-secret-production-key-here-change-this
DEBUG=False
DJANGO_SETTINGS_MODULE=config.settings.production
ALLOWED_HOSTS=yourdomain.com,www.yourdomain.com,api.yourdomain.com

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL Database Settings
POSTGRES_DB=rail_db_prod
POSTGRES_USER=rail_user_prod
POSTGRES_PASSWORD=your-secure-postgres-password-here
POSTGRES_HOST=db
POSTGRES_PORT=5432

# Database URL (alternative format)
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_URL=redis://redis:6379/0
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0

# =============================================================================
# GRAPHQL CONFIGURATION
# =============================================================================
# JWT Settings
JWT_SECRET=your-jwt-secret-production-key-here
JWT_ALGORITHM=HS256
JWT_EXPIRATION_DELTA=3600

# GraphQL Settings
GRAPHQL_DEBUG=False
ENABLE_GRAPHIQL=False
GRAPHQL_PLAYGROUND=False
GRAPHQL_INTROSPECTION=False

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your-production-email@yourdomain.com
EMAIL_HOST_PASSWORD=your-email-app-password
DEFAULT_FROM_EMAIL=noreply@yourdomain.com

# =============================================================================
# MEDIA & STATIC FILES
# =============================================================================
MEDIA_URL=/media/
STATIC_URL=/static/
MEDIA_ROOT=/app/media
STATIC_ROOT=/app/staticfiles

# AWS S3 Configuration (if using S3 for media storage)
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_STORAGE_BUCKET_NAME=your-production-s3-bucket
AWS_S3_REGION_NAME=us-east-1
AWS_S3_CUSTOM_DOMAIN=cdn.yourdomain.com
USE_S3=True

# =============================================================================
# SECURITY SETTINGS
# =============================================================================
# CORS Configuration
CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com,https://app.yourdomain.com
CORS_ALLOW_CREDENTIALS=True

# CSRF Configuration
CSRF_TRUSTED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com,https://app.yourdomain.com
CSRF_COOKIE_SECURE=True
SESSION_COOKIE_SECURE=True

# Security Headers
SECURE_SSL_REDIRECT=True
SECURE_HSTS_SECONDS=31536000
SECURE_HSTS_INCLUDE_SUBDOMAINS=True
SECURE_HSTS_PRELOAD=True
SECURE_CONTENT_TYPE_NOSNIFF=True
SECURE_BROWSER_XSS_FILTER=True

# =============================================================================
# MONITORING & LOGGING
# =============================================================================
# Sentry Configuration
SENTRY_DSN=your-sentry-dsn-here
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# Prometheus Monitoring
ENABLE_PROMETHEUS=True
PROMETHEUS_METRICS_PATH=/metrics

# Logging
LOG_LEVEL=INFO
DJANGO_LOG_LEVEL=INFO

# =============================================================================
# NGINX CONFIGURATION
# =============================================================================
HTTP_PORT=80
HTTPS_PORT=443
NGINX_CLIENT_MAX_BODY_SIZE=100M

# =============================================================================
# GRAFANA MONITORING
# =============================================================================
GF_SECURITY_ADMIN_PASSWORD=admin
GF_SECURITY_ADMIN_USER=admin
GF_INSTALL_PLUGINS=grafana-piechart-panel

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
# Backup Directories (inside backup container)
DB_BACKUPS_DIR=/backups/db
MEDIA_BACKUPS_DIR=/backups/media

# Backup Schedules (cron format: minute hour day month weekday)
DB_BACKUP_CRON=0 2 * * *
MEDIA_BACKUP_CRON=0 3 * * *

# Backup Retention
DB_BACKUP_RETENTION_DAYS=30
MEDIA_BACKUP_RETENTION_DAYS=30

# Remote Backup Targets (optional)
MEDIA_BACKUP_TARGET=/backups/media
DB_BACKUP_TARGET=/backups/db

# =============================================================================
# PERFORMANCE SETTINGS
# =============================================================================
# Gunicorn Configuration
GUNICORN_WORKERS=4
GUNICORN_WORKER_CLASS=gevent
GUNICORN_WORKER_CONNECTIONS=1000
GUNICORN_MAX_REQUESTS=1000
GUNICORN_MAX_REQUESTS_JITTER=100
GUNICORN_TIMEOUT=30

# Cache Configuration
CACHE_TTL=300
CACHE_MAX_ENTRIES=10000

# =============================================================================
# CELERY CONFIGURATION (if using background tasks)
# =============================================================================
CELERY_BROKER_URL=${REDIS_URL}
CELERY_RESULT_BACKEND=${REDIS_URL}
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_TIMEZONE=UTC

# =============================================================================
# THIRD-PARTY INTEGRATIONS
# =============================================================================
# Stripe (if using payments)
STRIPE_PUBLISHABLE_KEY=pk_live_your_stripe_publishable_key
STRIPE_SECRET_KEY=sk_live_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_stripe_webhook_secret

# Google Analytics (if using)
GOOGLE_ANALYTICS_ID=GA_MEASUREMENT_ID

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_API_RATE_LIMITING=True
ENABLE_QUERY_LOGGING=False
ENABLE_DEBUG_TOOLBAR=False
ENABLE_SILK_PROFILING=False

# =============================================================================
# CUSTOM APPLICATION SETTINGS
# =============================================================================
# Add your custom application-specific environment variables here
APP_NAME=Django GraphQL Boilerplate
APP_VERSION=1.0.0
ENVIRONMENT=production